autoload -U compinit # ã‚³ãƒãƒ³ãƒ‰è£œå®Œã‚’ONã«
compinit

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
#setopt auto_push         # cd æ™‚ã«è‡ªå‹•ã§ push
setopt pushd_ignore_dups # åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ pushd ã—ãªã„

# allow tab completion in the middle of a word
setopt COMPLETE_IN_WORD

# ãƒ“ãƒ¼ãƒ—ã‚’é³´ã‚‰ã•ãªã„
setopt nobeep
setopt nolistbeep

# è£œå®Œå€™è£œä¸€è¦§ã§ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¨®åˆ¥ã‚’ãƒãƒ¼ã‚¯è¡¨ç¤º
setopt list_types

# compacked complete list display
setopt list_packed

# =command ã‚’ command ã®ãƒ‘ã‚¹åã«å±•é–‹ã™ã‚‹
setopt equals

# --prefix=/usr ãªã©ã® = ä»¥é™ã‚‚è£œå®Œ
setopt magic_equal_subst

# ãƒ’ã‚¹ãƒˆãƒªã‚’å‘¼ã³å‡ºã—ã¦ã‹ã‚‰å®Ÿè¡Œã™ã‚‹é–“ã«ä¸€æ—¦ç·¨é›†
#setopt hist_verify

# ãƒ•ã‚¡ã‚¤ãƒ«åã®å±•é–‹ã§è¾æ›¸é †ã§ã¯ãªãæ•°å€¤é †ã«ã‚½ãƒ¼ãƒˆ
#setopt numeric_glob_sort

# å‡ºåŠ›æ™‚8ãƒ“ãƒƒãƒˆã‚’é€šã™
#setopt print_exit_value

# è£œå®Œå€™è£œã®ã‚«ãƒ¼ã‚½ãƒ«é¸æŠã‚’æœ‰åŠ¹ã«
zstyle ':completion:*:default' menu select=1

# è£œå®Œå€™è£œã®è‰²ä»˜ã‘
zstyle ':completion:*:default' list-colors ${(s.:.)LS_COLORS}

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã ã‘ã§ cd
setopt auto_cd

DIRSTACKSIZE=16
builtin dirs /Users/kimai/local /Users/kimai/local/src/python /Users/kimai/local/work

# ã‚«ãƒƒã‚³ã®å¯¾å¿œãªã©ã‚’è‡ªå‹•çš„ã«è£œå®Œ
setopt auto_param_keys

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã®è£œå®Œã§æœ«å°¾ã® / ã‚’è‡ªå‹•çš„ã«ä»˜åŠ ã—ã€æ¬¡ã®è£œå®Œã«å‚™ãˆã‚‹
#setopt auto_param_slash

# ã‚¹ãƒšãƒ«ãƒã‚§ãƒƒã‚¯
setopt correct

# keep background processes at full speed
#setopt NOBGNICE
# restart running processes on exit
#setopt HUP

# history
#setopt APPEND_HISTORY
# for sharing history between zsh processes
#setopt INC_APPEND_HISTORY
#setopt SHARE_HISTORY

# never ever beep ever
#setopt NO_BEEP

# automatically decide when to page a list of completions
#LISTMAX=0

# disable mail checking
#MAILCHECK=0

#autoload -U colors
#colors

# ã‚³ãƒãƒ³ãƒ‰å±¥æ­´æ©Ÿèƒ½
HISTFILE=~/.zsh_history #å±¥æ­´ãƒ•ã‚¡ã‚¤ãƒ«
HISTSIZE=10000          #å±¥æ­´ã‚µã‚¤ã‚º
SAVEHIST=10000          #å±¥æ­´ã‚µã‚¤ã‚º

setopt hist_ignore_dups #å±¥æ­´ãƒªã‚¹ãƒˆã§é‡è¤‡ã‚³ãƒãƒ³ãƒ‰ã‚’ç„¡è¦–ã™ã‚‹
setopt share_history    #å±¥æ­´ã‚’è¤‡æ•°ç«¯æœ«ã§å…±æœ‰ã™ã‚‹
setopt extended_history #zshã®é–‹å§‹ã€çµ‚äº†æ™‚åˆ»ã‚’ãƒ’ã‚¹ãƒˆãƒªãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã‚€

# ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰è¨­å®š
bindkey -e

# å±¥æ­´æ¤œç´¢æ©Ÿèƒ½ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆè¨­å®š
autoload history-search-end
zle -N history-beginning-search-backward-end history-search-end
zle -N history-beginning-search-forward-end history-search-end
bindkey "" history-beginning-search-backward-end
bindkey "" history-beginning-search-forward-end


########################################
# Set Prompt
########################################

## Color
BLACK=$'%{\e[30m%}'
RED=$'%{\e[31m%}'
GREEN=$'%{\e[32m%}'
YELLOW=$'%{\e[33m%}'
BLUE=$'%{\e[34m%}'
MAGENTA=$'%{\e[35m%}'
CYAN=$'%{\e[36m%}'
WHITE=$'%{\e[37m%}'

L_BLACK=$'%{\e[1;30m%}'
L_RED=$'%{\e[1;31m%}'
L_GREEN=$'%{\e[1;32m%}'
L_YELLOW=$'%{\e[1;33m%}'
L_BLUE=$'%{\e[1;34m%}'
L_MAGENTA=$'%{\e[1;35m%}'
L_CYAN=$'%{\e[1;36m%}'
L_WHITE=$'%{\e[1;37m%}'

BLACKB=$'%{\e[40m%}'
REDB=$'%{\e[41m%}'
GREENB=$'%{\e[42m%}'
YELLOWB=$'%{\e[43m%}'
BLUEB=$'%{\e[44m%}'
MAGENTAB=$'%{\e[45m%}'
CYANB=$'%{\e[46m%}'
WHITEB=$'%{\e[47m%}'

NO_COLOUR=$'%{\e[1;0m%}'

PRM_END=$NO_COLOUR

PRM_FG=$BLACK
PRM_BG=$GREENB
UN_FG=$BLACK
UN_BG=$GREENB


## Prompt
#setopt prompt_subst
#PROMPT='[%n@%m] %#'
#RPROMPT=' [%~ %T]'
PROMPT=$YELLOW"[%*][$UN_BG$UN_FG%n$PRM_END $YELLOW%~]%# "$PRM_END


# Terminal Title
case "${TERM}" in
kterm*|xterm)
  precmd() {
      echo -ne "\033]0;${USER}:${PWD}\007"
      #echo -ne "\033]0;${USER}@${HOST%%.*}:${PWD}\007"
  }
  ;;
esac


